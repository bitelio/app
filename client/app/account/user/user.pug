.container
  .row

    // User Info
    .col-xs-12.col-sm-6.col-sm-offset-1.col-md-5.col-md-offset-2
      .panel.panel-default
        .panel-heading
          h4 Profile
        .panel-body
          .row
            img.col-xs-4(src="https://www.gravatar.com/avatar/{{ $parent.User.GravatarLink }}?d=mm&s=128" style="max-width: 128px")
            .form-horizontal.col-xs-8
              .form-group
                label.control-label.col-xs-3(for="name") Name:
                .col-xs-9
                  p.form-control-static {{ $parent.User.FullName }}
                label.control-label.col-xs-3(for="email") Email:
                .col-xs-9
                  p.form-control-static {{ $parent.User.UserName }}
                label.control-label.col-xs-3(for="id") Id:
                .col-xs-9
                  p.form-control-static {{ $parent.User.Id }}

    // Change Password
    .col-xs-12.col-sm-4.col-md-3
      .panel.panel-default
        .panel-heading
          h4 Change Password
        form.form(name='form' ng-submit='vm.changePassword(form)' novalidate)
          .panel-body
            .form-group(ng-class='vm.hasError(form.currentPassword)')
              input.form-control(type='password' placeholder='Current password' name='currentPassword' ng-model='vm.password.current' ng-change='form.currentPassword.$setValidity("auth", true)' required)
              span.fa.fa-times.form-control-feedback(ng-show='vm.hasError(form.currentPassword)')
              p.help-block(ng-show='form.currentPassword.$error.auth') Wrong password

            .form-group(ng-class='vm.hasError(form.newPassword)')
              input.form-control(type='password' placeholder='New password' name='newPassword' ng-model='vm.password.new' ng-minlength='6' required)
              span.fa.fa-times.form-control-feedback(ng-show='vm.hasError(form.newPassword)')
              p.help-block(ng-show='form.newPassword.$touched && form.newPassword.$error.minlength ') Your password must be at least 6 characters long

            .form-group(ng-class='vm.hasError(form.confirmPassword)')
              input.form-control(type='password' placeholder='Confirm new password' name='confirmPassword' ng-model='vm.password.confirm' ng-change='vm.checkPassword(form)' required)
              span.fa.fa-times.form-control-feedback(ng-show='vm.hasError(form.confirmPassword)')
              p.help-block(ng-show='vm.hasError(form.confirmPassword)') Passwords don't match

          .panel-footer
            button.btn.btn-primary.pull-right(type='submit' ng-disabled='form.$invalid') Save
            .clearfix
